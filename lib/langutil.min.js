/**
 * @author chin98edwin
 * @copyright Copyright (c) 2018 - 2019, chin98edwin
 * @description Localization for JavaScript made simple.
 * @version 2.3.1
**/
let C1="en",C2={},C3=false,C4=false;const langutil={init:f1,setLanguage:f2,createKey:(k,l)=>({keyword:k,localizations:l}),localize:f3,localizeWith:f4,getLanguage:()=>C1,getDefinedLanguages:()=>f6(C2).allLanguages,isAuto:()=>C4,logs:{focus:f5,hide:()=>{},show:()=>{}}};module.exports=langutil;function f1(d,l,a){if(Array.isArray(d)){C3=false;let f={};for(let i=0;i<d.length;i++){const c=d[i];f[c.keyword]=c.localizations}f10(f)}else{C3=true;f10(d)}f2(l,a)}function f2(l,a){if(a){let u=l,f=false;C4=true;if(a===true){try{const n=navigator.language||navigator.userLanguage;u=n.toLowerCase();f=false}catch(e){/**/}}else if(typeof a==="function"){try{u=a();f=false}catch(e){/**/}}f=typeof u==="string";if(f){let x=u;try{x=x.toLowerCase()}catch(e){/**/}let y=f6(C2).allLanguages;for(let i=0;i<y.length;i++){try{y[i]=y[i].toLowerCase()}catch(e){/**/}}if(!y.includes(u)){u=u.substr(0,2);if(y.includes(u)){u=l}}}else{u=l}C1=u}else{C1=l}}function f3(k,p=[]){let s=false,v=k;try{v=v.toUpperCase();if(C3){v=C2[C1][k]}else{v=C2[k][C1]}if(typeof v==="string"){v=f9(v,p)}s=v!==undefined}catch(e){/**/}return s?v:`_${k}_`}function f4({keyword:k,paramArray:p=[],casing:c,transform:t}){let l=f3(k,p);if(typeof l==="string"){if(typeof c==="string"){const f={lowercase:(v)=>v.toLowerCase(),localeLowercase:(v)=>v.toLocaleLowerCase(),uppercase:(v)=>v.toUpperCase(),localeUppercase:(v)=>v.toLocaleUpperCase(),sentenceCase:(v)=>f7(v),titleCase:(v)=>{v=v.split(/[\s]/g);for(let i=0;i<v.length;i++){v[i]=f7(v[i])}v=v.join(" ");return v}};const styleFunc=f[c];if(styleFunc){try{l=styleFunc(l)}catch(e){/**/}}}}if(typeof t==="function"){l=t(l)}return l}function f5(c){const t=typeof c;let s=false;if(t==="function"){try{c();s=true}catch(e){/**/}}return s}function f6(d){let l=[],k=[];if(C3){l=Object.keys(d);for(let i=0;i<l.length;i++){const x=d[l[i]];k.push(...Object.keys(x))}k=[...new Set(k)]}else{k=Object.keys(d);for(i=0;i<k.length;i++){const y=d[k[i]];l.push(...Object.keys(y))}l=[...new Set(l)]}return {allLanguages:l,allKeywords:k}}function f7(v){v=v.toLowerCase();const c=v.split("");const f=c.shift();return `${f.toUpperCase()}${c.join("")}`}function f8(p,l){let h="";do{let r=Math.floor(Math.random()*p.length);h+=p[r]}while(h.length<l);return h}function f9(s,p=[]){let w=2,x="%q";while(s.includes(x)){try{x=f8("0123456789abcdef",w++)}catch(e){/**/}}s=s.replace(/(%%p)/g,x);let y=s.match(/(%p)/g);y=y?y:[];let z=Math.min((y.length+1),p.length);for(let i=0;i<z;i++){s=s.replace(/(%p)/,p[i])}s=s.replace(/(%p)/g,"");s=s.replace(new RegExp("("+x+")","g"),"%p");return s}function f10(d){C2=d}