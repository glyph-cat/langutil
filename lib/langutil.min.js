/**
 * @author chin98edwin
 * @copyright Copyright (c) 2018 - 2019, chin98edwin
 * @description Localization for JavaScript made simple.
 * @version 2.3.0
**/
let C1="en",C2={},C3=false,C4=false;const langutil={init:f1,setLanguage:f2,createKey:(k,l)=>({keyword:k,localizations:l}),localize:f3,localizeWith:f4,getLanguage:()=>C1,getDefinedLanguages:()=>f6(C2).allLanguages,isAuto:()=>C4,logs:{focus:f5,hide:()=>{},show:()=>{}}};module.exports=langutil;function f1(d,l,a){if(Array.isArray(d)){C3=false;let f={};for(let i=0;i<d.length;i++){const c=d[i];f[c.keyword]=c.localizations}f10(f)}else{C3=true;f10(d)}f2(l,a)}function f2(l,a){if(a){let lu=l,lf=false;C4=true;if(a===true){try{const nl=navigator.language||navigator.userLanguage;lu=nl.toLowerCase()}catch(e){/**/}}else if(typeof a==="function"){lu=a()}lf=typeof lu==="string";if(lf){let dl=lu;try{dl=dl.toLowerCase()}catch(e){/**/}let adl=f6(C2).allLanguages;for(let i=0;i<adl.length;i++){try{adl[i]=adl[i].toLowerCase()}catch(e){/**/}}if(adl.includes(lu)){lu=lu.substr(0,2);if(adl.includes(lu)){lu=l}}}else{lu=l}C1=lu}else{C1=l}}function f3(k,p=[]){let s=false,v=k;try{v=v.toUpperCase();if(C3){v=C2[C1][k]}else{v=C2[k][C1]}if(typeof v==="string"){v=f9(v,p)}s=v!==undefined}catch(e){/**/}return s?v:`_${k}_`}function f4({keyword:k,paramArray:p=[],casing:c,transform:t}){let localized=f3(k,p);if(typeof localized==="string"){if(typeof c==="string"){const cf={lowercase:(v)=>v.toLowerCase(),localeLowercase:(v)=>v.toLocaleLowerCase(),uppercase:(v)=>v.toUpperCase(),localeUppercase:(v)=>v.toLocaleUpperCase(),sentenceCase:(v)=>f7(v),titleCase:(v)=>{v=v.split(/[\s]/g);for(let i=0;i<v.length;i++){v[i]=f7(v[i])}v=v.join(" ");return v}};const styleFunc=cf[c];if(styleFunc){try{localized=styleFunc(localized)}catch(e){/**/}}}}if(typeof t==="function"){localized=t(localized)}return localized}function f5(c){let s=false;if(typeof c==="function"){try{c();s=true}catch(e){/**/}}return s}function f6(d){let al=[],ak=[];if(C3){al=Object.keys(d);for(let i=0;i<al.length;i++){const lsl=d[al[i]];ak.push(...Object.keys(lsl))}ak=[...new Set(ak)]}else{ak=Object.keys(d);for (i=0;i<ak.length;i++){const ksl=d[ak[i]];al.push(...Object.keys(ksl))}al=[...new Set(al)]}return {allLanguages:al,allKeywords:ak}}function f7(v){v=v.toLowerCase();const w=v.split("");const f=w.shift();return `${f.toUpperCase()}${w.join("")}`}function f8(p,l){let h="";do{let r=Math.floor(Math.random()*p.length);h+=p[r]}while(h.length<l);return h}function f9(f,p=[]){let l=2,e="%q";while(f.includes(e)){try{e=f8("0123456789abcdef",l++)}catch(e){/**/}}f=f.replace(/(%%p)/g,e);let h=f.match(/(%p)/g);h=h?h:[];let pc=Math.min((h.length+1),p.length);for(let i=0;i<pc;i++){f=f.replace(/(%p)/,p[i])}f=f.replace(/(%p)/g,"");f=f.replace(new RegExp("("+e+")","g"),"%p");return f}function f10(d){C2=d}