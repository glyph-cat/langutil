/**
 * @author chin98edwin
 * @copyright Copyright (c) 2018 - present, chin98edwin
 * @description Localization for JavaScript made simple.
 * @version 3.1.0
**/
let A={a:null,b:false,c:{},d:[],e:false,f:true,g:{},h:0}
function B(a,b,c){C(a);D(b,c)}function C(c){const d=Array.isArray(c)?L(c):c,e=JSON.stringify(A.c);A.c=d;const f=Object.keys(d)[0];A.f=typeof f==='string'&&/[a-z]/.test(f);const{a,b}=V(d);A.d=A.f?a:b;if(JSON.stringify(A.c)!==e){U()}}function D(z,y){let x=false;const w=A.a,v=A.b;A.b=false;if(typeof y==='function'){const t=y();if(t){if(A.d.includes(t)){A.a=t;x=true}else{function getSimilarLangFromAllLang(r,q){for(let a of r){const p=a.toLowerCase(),o=q.toLowerCase();if(o.includes(p)||p.includes(o)){return a}const n=/_|-/g;const m=p.split(n),l=o.split(n);for(let u of m){for(let s of l){if(s.length>0&&u.length>0){if(s.includes(u)||u.includes(s)){return a}}}}}return null}const k=getSimilarLangFromAllLang(A.d,t);if(k){A.a=k;x=true;}}}}else if(typeof y!=='undefined'){throw TypeError()}if(x){A.e=true;A.b=true;}else{if(typeof z==='string'){A.a=z;A.e=A.d.includes(z);if(!A.e){throw ReferenceError()}}else{throw TypeError()}}if(A.a!==w||A.b!==v){U()}}function E(a,b,c,d){if(typeof a==='string'){return R({keyword:a,param:b,casing:c,transform:d})}else if(typeof a==='object'){return R(a)}else{throw SyntaxError()}}function F(a,b,c,d,e){if(typeof a==='string'){return Q({lang:a,keyword:b,param:c,casing:d,transform:e})}else if(typeof a==='object'){return Q(a)}else{throw SyntaxError()}}function G(){return A.a}function H(){return A.d}function I(){try{return(navigator.language||navigator.userLanguage).toLowerCase()}catch(e){return null}}const J={show:()=>{},hide:()=>{},showVerbose:()=>{},hideVerbose:()=>{},focus:function(a){let b=false;if(typeof a==='function'){try{a();b=true}catch(e){console.error(e)}}else{throw TypeError()}return b}}
function K(){return A.b}function L(a=[]){let b={};for(let i=0;i<a.length;i++){const{keyword:c,localizations:d}=a[i];b[c]=d}return b}function M(a,b){return{keyword:a,localizations:b}}function N(){return A.a}function O({paramArray:a,...b}){return R({param:a,...b})}function P(){}function Q({lang:a,keyword:b,param:c,casing:d,transform:e}){const f=`_${b.toUpperCase()}_`;let g,h=false;try{if(A.f){g=A.c[a][b]}else{g=A.c[b][a]}if(typeof g==='string'){if(c){g=AC(g,c,b)}else{g=Z(g)}if(d){g=AD(g,d,b)}}if(e){g=AE(g,e,b)}h=typeof g!=='undefined';}catch(e){}if(!h){g=f}return g}function R(a){return Q({lang:A.a,...a})}function S(a){const b=`L${A.h++}`;A.g[b]=a;return b}function T(a){delete A.g[a]}function U(){const a=Object.keys(A.g);for(let b of a){const c=A.g[b];c()}}function V(d){let a=Object.keys(d),b=[];for(let c of a){b.push(...Object.keys(d[c]))}b=[...new Set(b)];return{a,b}}function W(a){if(a.match(/[a-z]+[A-Z]+/g)){a=a.toLowerCase()}const b=a.split('');const c=b.shift();return `${c.toUpperCase()}${b.join('')}`}function X(a){let b='';const c='0123456789abcdef';do{let d=Math.floor(Math.random()*c.length);b+=c[d]}while(b.length<a);return b}function Y(a,b){let c=2,d='%q';while(a.includes(d)){d=X(c++)}a=a.replace(b,d);return{newStr:a,swapper:d}}function Z(a){if(typeof a==='string'){let{newStr:b,swapper:c}=Y(a,/(%%p)/g);b=b.replace(/(%p)/g,'');b=b.replace(new RegExp(`(${c})`,'g'),'%p');b=b.replace(/({::)/g,'{:');return b}else{return a}}function AA(a,b=[]){let{newStr:c,swapper:d}=Y(a,/(%%p)/g);let e=0;try{e=c.match(/(%p)/g).length}catch(e){}let f=Math.min((e+1),b.length);for(let i=0;i<f;i++){c=c.replace(/(%p)/,b[i])}c=c.replace(/(%p)/g,'');c=c.replace(new RegExp(`(${d})`,'g'),'%p');return c}function AB(a,b={}){let{newStr:c,swapper:d}=Y(a,/({::)/g);const e=Object.keys(b);for(let i=0;i<e.length;i++){const f=new RegExp(`(\\{:${e[i]}\\})`,'g');c=c.replace(f,b[e[i]])}c=c.replace(new RegExp(`(${d})`,'g'),'{:');return c}function AC(a,b){if(typeof a==='string'){if(Array.isArray(b)){a=AA(a,b)}else if(typeof b==='object'){a=AB(a,b)}else{throw TypeError()}}return a}function AD(a,b){const c={lowerCase:s=>s.toLowerCase(),localeLowerCase:s=>s.toLocaleLowerCase(),localeUpperCase:s=>s.toLocaleUpperCase(),sentenceCase:s=>{let[d,...e]=s.split(' ');for(let i=0;i<e.length;i++){if(e[i].match(/[a-z]+[A-Z]+/g)){e[i]=e[i].toLowerCase()}}return `${W(d)} ${e.join(' ')}`},titleCase:s=>{s=s.split(/[\s]/g);for(let i=0;i<s.length;i++){s[i]=W(s[i])}s=s.join(' ');return s},upperCase:s=>s.toUpperCase()};if(typeof a==='string'){let f=false;if(typeof b==='string'){const g=c[b];if(typeof g==='function'){a=g(a);f=true}}if(!f){throw TypeError()}}return a}function AE(a,b){if(typeof b==='function'){a=b(a)}else if(b!==null&&typeof b!=='undefined'){throw TypeError()}return a}module.exports={init:B,setDictionary:C,setLanguage:D,localize:E,langmap:F,getCurrentLanguage:G,getDefinedLanguages:H,AUTO_DETECT:I,logs:J,isAuto:K,createKey:M,getLanguage:N,localizeWith:O,snoozeInspectionUntil:P,_INTERNALS:{capitalizeFirstLetter:W,applyParam:AC,applyCasing:AD,applyTransform:AE,getRandomHash:X,extractAB:V,convertToNewDict:L,addListener:S,removeListener:T}}