/**
 * @author chin98edwin
 * @copyright Copyright (c) 2018 - present, chin98edwin
 * @description Localization for JavaScript made simple.
 * @version 3.0.1
**/
let C={l:null,s:false,d:{},a:[],i:false,b:true,t:{},c:0};function f1(d,l,r){f2(d);f3(l,r)}function f2(d){const i=JSON.stringify(C.d);C.d=d;C.b=/[a-z]/.test(Object.keys(d)[0]);const{a,b}=f15(d);C.a=C.b?a:b;if(JSON.stringify(C.d)!==i){f14()}}function f3(l,d){let x=false;const i=C.l;C.s=false;if(typeof d==='function'){const t=d();if(t){if(C.a.includes(t)){C.l=t;x=true}else{function u(f,n){for(let a of f){const _a=a.toLowerCase(),_l=n.toLowerCase();if(_l.includes(_a)||_a.includes(_l)){return a}const y=n.split('-');for (let s of y){if(s.length>0&&(_l.includes(s)||s.includes(_l))){return a}}}return null}const r=u(C.a,t);if(r){C.l=r;x=true}}}}if(x){C.i=true;C.s=true}else{if(typeof l==='string'){C.l=l;C.i=C.a.includes(l)}}if(C.l!==i){f14()}}function f4(a,b,c,d){if(typeof a==='string'){return f11({keyword:a,param:b,casing:c,transform:d})}else if(typeof a==='object'){return f11(a)}}function f5(){return C.l}function f27(){return C.a}function f6(){try{return(navigator.language||navigator.userLanguage).toLowerCase()}catch(e){return null}}const f7={show:()=>{},hide:()=>{},showVerbose:()=>{},hideVerbose:()=>{},focus:function(f){let s=false;if(typeof f==='function'){try{f();s=true}catch(e){console.error(e)}}return s}};function f8(){return C.s}function f28(k,l){return{keyword:k,localizations:l}}function getLanguage(){return C.l}function f9({paramArray:param,...o}){return f11({param,...o})}function f10(){}function f11({keyword:k,param:p,casing:c,transform:t}){const e=`_${k.toUpperCase()}_`;if(!C.l){return e}let v,s=false;try{if(C.b){v=C.d[C.l][k]}else{v=C.d[k][C.l]}if(typeof v==='string'){if(p){v=f22(v,p,k)}else{v=f19(v)}if(c){v=f23(v,c,k)}}if(t){v=f24(v,t,k)}s=true}catch(e){}if(!s){v=e}return v}function f12(f){const i=`L${C.c++}`;function h(k){C.t[i]=k}f(i,h)}function f13(i){delete C.t[i]}function f14(){const h=Object.keys(C.t);for(let i of h){const e=C.t[i];e()}}function f15(d){let a=Object.keys(d),b=[];for(let x of a){b.push(...Object.keys(d[x]))}b=[...new Set(b)];return{a,b}}function f16(s){if(s.match(/[a-z]+[A-Z]+/g)){s=s.toLowerCase()}const c=s.split('');const f=c.shift();return `${f.toUpperCase()}${c.join('')}`}function f17(l){let h='';const p='0123456789abcdef';do{let r=Math.floor(Math.random()*p.length);h+=p[r]}while(h.length<l);return h}function f18(s,r){let h=2,w='%q';while(s.includes(w)){w=f17(h++)}s=s.replace(r,w);return{newStr:s,swapper:w}}function f19(s){if(typeof s==='string'){let{newStr:n,swapper:w}=f18(s,/(%%p)/g);n=n.replace(/(%p)/g,'');n=n.replace(new RegExp(`(${w})`,'g'),'%p');n=n.replace(/({::)/g,'{:');return n}else{return s}}function f20(s,a=[]){let{newStr:n,swapper:w}=f18(s,/(%%p)/g);let c=0;try{c=n.match(/(%p)/g).length}catch(e){}let m=Math.min((c+1),a.length);for(let i=0;i<m;i++){n=n.replace(/(%p)/,a[i])}n=n.replace(/(%p)/g,'');n=n.replace(new RegExp(`(${w})`,'g'),'%p');return n}function f21(s,o={}){let{newStr:n,swapper:w}=f18(s,/({::)/g);const x=Object.keys(o);for(let i=0;i<x.length;i++){const g=new RegExp(`(\\{:${x[i]}\\})`,'g');n=n.replace(g,o[x[i]])}n=n.replace(new RegExp(`(${w})`,'g'),'{:');return n}function f22(v,p){if(typeof v==='string'){if(Array.isArray(p)){v=f20(v, p)}else if(typeof p==='object'){v=f21(v,p)}}return v}function f23(v,c){const t={lowerCase:s=>s.toLowerCase(),localeLowerCase:s=>s.toLocaleLowerCase(),localeUpperCase:s=>s.toLocaleUpperCase(),sentenceCase:s=>{let[f,...w]=s.split(' ');for(let i=0;i<w.length;i++){if(w[i].match(/[a-z]+[A-Z]+/g)){w[i]=w[i].toLowerCase()}}return `${f16(f)} ${w.join(' ')}`},titleCase:s=>{s=s.split(/[\s]/g);for(let i=0;i<s.length;i++){s[i]=f16(s[i])}s=s.join(' ');return s},upperCase:s=>s.toUpperCase()};if(typeof v==='string'){if(typeof c==='string'){const p=t[c];if(typeof p==='function'){v=p(v)}}}return v}function f24(v,fn){if(typeof fn==='function'){v=fn(v)}return v}function f25(n){return 'aeiou'.includes(n[0].toLowerCase())?'an':'a'}function f26({expected:e={parameter:null},toBe:t=[],toBeOneOf:b=[]}){const n=Object.keys(e)[0],v=Object.values(e)[0];let r=Array.isArray(v)?'array':typeof v;if((t.includes('string')||b.length>0)&&r==='string'){r=`'${v}'`}let x;if(t.length>0){const a=f25(t[0]);if(t.length>2){x+=`either ${a} ${t.join(', ')}`}else if(t.length===2){x+=`either ${a} ${t[0]} or ${t[1]}`}else{x=`${a} ${t[0]}`}}else{x=`one of ['${b.join('\', \'')}']`}return `Invalid parameter. Expected \`${n}\` to be ${x} but got ${r}.`}module.exports={init:f1,setDictionary:f2,setLanguage:f3,localize:f4,getCurrentLanguage:f5,getDefinedLanguages:f27,AUTO_DETECT:f6,logs:f7,isAuto:f8,createKey:f28,getLanguage,localizeWith:f9,snoozeInspectionUntil:f10,extractAB:f15,capitalizeFirstLetter:f16,applyParam:f22,applyCasing:f23,applyTransform:f24,getRandomHash:f17,addEventListener:f12,removeEventListener:f13,formatInv:f26}