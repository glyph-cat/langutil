const{Component,createElement,useEffect,useState}=require('react');const{localize,isAuto,getCurrentLanguage,_INTERNALS:{addListener,removeListener}}=require('langutil');const getLangState=()=>({auto:isAuto(),lang:getCurrentLanguage()});function useLang(){if(typeof useState!=='function'){throw ReferenceError()}const[a,b]=useState({langRef:null});const{langRef}=a;useEffect(()=>{let c=addListener(()=>{b({langRef})});b({langRef:c});return()=>{removeListener(c)}},[langRef===null]);return getLangState()}function withLang(A){const b=getDisplayName(A);class C extends Component{componentDidMount(){this.d=addListener(this.forceUpdate.bind(this))};componentWillUnmount(){removeListener(this.d)};render(){const{langState,...e}=this.props;if(langState){throw SyntaxError()}return createElement(A,{langState:langState?langState:getLangState(),...e})}}let f;try{f=require('hoist-non-react-statics')}catch(e){}if(typeof f==='function'){f(C,A)}C.displayName=`withLang(${b})`;return C}function getDisplayName(a){try{return a.displayName||a.name||'Unknown'}catch(e){return 'Unknown'}}function Localizable({keyword:a,children:b,paramArray:c=[],casing:d,transform:e,renderAs:f='span',allowEmpty:g,...h}){let i=!b&&a?a:b;if(i&&typeof i==='string'){i=localize({keyword:i,param:c,casing:d,transform:e})}else if(g){i=''}if(f==='value'){return i}else{return createElement(f,h,i)}}module.exports={withLang,useLang,Localizable}